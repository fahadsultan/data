

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1.2. Pandas II: Selection, Filtering and Dropping &#8212; CSC-272 Data Mining</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-FHTXXD4572"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-FHTXXD4572');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '1_programming/pandas2';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.3. Pandas III: Aggregation, Merging and Concatenation" href="pandas3.html" />
    <link rel="prev" title="1.1. Pandas I: Data Structures" href="pandas1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    CSC-272 Data Mining (Fall 2023)
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../calendar.html">Calendar</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../syllabus/index.html">Syllabus</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/grading.html">Grading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/textbook.html">Textbooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/mental_health.html">Mental Health</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/academic_success.html">Center for Academic Success</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/accomodations.html">Accomodations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/integrity.html">Academic Integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/title_9.html">Nondiscrimination Policy and Sexual Misconduct</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../project/project.html">Course Project</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../project/data.html">Data sets and Project ideas</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Programming for Data Science</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="10_dataops.html">1. Vectorized Operations on Data</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pandas1.html">1.1. Pandas I: Data Structures</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">1.2. Pandas II: Selection, Filtering and Dropping</a></li>
<li class="toctree-l2"><a class="reference internal" href="pandas3.html">1.3. Pandas III: Aggregation, Merging and Concatenation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="40_modalities.html">2. Encoding and Representation</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="41_types.html">2.1. Feature Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="42_formats.html">2.2. Common Data Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="43_modalities.html">2.3. Modalities of Data</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="20_visualization.html">3. Visualizing Data</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="21_univariate.html">3.1. Univariate Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="22_multivariate.html">3.2. Multivariate Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="23_dosdonts.html">3.3. Dos and Donts of Visualization</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Mathematics for Data Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../2_maths/10_prob_stats_log.html">4. Prob, Stats and Logs</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../2_maths/11_probability.html">4.1. Probability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2_maths/12_stats.html">4.2. Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2_maths/13_log.html">4.3. Logarithms</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../2_maths/40_linearalgebra.html">5. Linear Algebra and Geometry</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../2_maths/41_vectors.html">5.1. Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2_maths/42_matrices.html">5.2. Matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2_maths/43_applications.html">5.3. Principal Component Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2_maths/50_calculus.html">6. Calculus</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Problems in Data Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../3_problems_in/40_supervised.html">7. Supervised Learning</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../3_problems_in/41_classification.html">7.6. Classification</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3_problems_in/20_unsupervised.html">8. Unsupervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_problems_in/30_reinforcement.html">9. Reinforcement Learning</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Models in Data Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../4_models/graphical.html">10. Graphical Models</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../4_models/41_naivebayes.html">10.1. Naive Bayes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3_problems_in/22_kmeans.html">11. Mixture Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4_models/generalized.html">12. Generalized Linear Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4_models/nn.html">13. Neural Networks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Algorithms in Data Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../5_algos/em.html">14. Expectation Maximization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5_algos/gradient_descent.html">15. Gradient Descent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5_algos/backprop.html">16. Backpropogation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Problems with Data Science</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../6_problems_with/10_representation.html">17. Representation Matters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6_problems_with/40_feedback.html">18. Positive Feedback Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6_problems_with/20_boundaries.html">19. Decision Boundaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6_problems_with/30_incentives.html">20. Majority Rule</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/fahadsultan/datascience_ml/blob/main/1_programming/pandas2.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/1_programming/pandas2.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Pandas II: Selection, Filtering and Dropping</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-values-from-a-series">1.2.1. Extracting values from a Series</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-single-index-label">1.2.1.1. A Single Index Label</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-list-of-index-labels">1.2.1.2. A List of Index Labels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-filtering-condition">1.2.1.3. A Filtering Condition</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracing-data-from-dataframes">1.2.2. Extracing data from DataFrames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-with-head-and-tail">1.2.2.1. Filtering rows with <code class="docutils literal notranslate"><span class="pre">.head</span></code> and <code class="docutils literal notranslate"><span class="pre">.tail</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-with-iloc">1.2.2.2. Filtering rows with <code class="docutils literal notranslate"><span class="pre">.iloc</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-with-loc">1.2.2.3. Extracting with <code class="docutils literal notranslate"><span class="pre">.loc</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-with">1.2.2.4. Extracting with <code class="docutils literal notranslate"><span class="pre">[]</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-slice-of-row-numbers">1.2.2.4.1. A slice of row numbers</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-list-of-column-labels">1.2.2.4.2. A list of column labels</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-single-column-label">1.2.2.4.3. A single column label</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-extraction">1.2.3. Conditional Extraction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-removing-and-modifying-columns">1.2.4. Adding, Removing, and Modifying Columns</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#handy-utility-functions">1.2.5. Handy Utility Functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shape-and-size">1.2.5.1. <code class="docutils literal notranslate"><span class="pre">.shape</span></code> and <code class="docutils literal notranslate"><span class="pre">.size</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dtypes">1.2.5.2. <code class="docutils literal notranslate"><span class="pre">.dtypes</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#astype">1.2.5.3. <code class="docutils literal notranslate"><span class="pre">.astype()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#describe">1.2.5.4. <code class="docutils literal notranslate"><span class="pre">.describe()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample">1.2.5.5. <code class="docutils literal notranslate"><span class="pre">.sample()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#value-counts">1.2.5.6. <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unique">1.2.5.7. <code class="docutils literal notranslate"><span class="pre">.unique()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sort-values">1.2.5.8. <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apply">1.2.5.9. <code class="docutils literal notranslate"><span class="pre">.apply</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="pandas-ii-selection-filtering-and-dropping">
<h1><span class="section-number">1.2. </span>Pandas II: Selection, Filtering and Dropping<a class="headerlink" href="#pandas-ii-selection-filtering-and-dropping" title="Permalink to this headline">#</a></h1>
<p>Previously, we studied the three basic data structures in Pandas: <code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, and <code class="docutils literal notranslate"><span class="pre">Index</span></code>. We also learned how to create these data structures from scratch. In this section, we will learn how to extract data from these structures. The two primary operations of data extraction are:</p>
<ol class="arabic simple">
<li><p><strong>Selection</strong>: Extracting subset of columns.</p></li>
<li><p><strong>Filtering</strong>: Extracting subset of rows.</p></li>
</ol>
<p>Finally, we will learn how to drop rows and columns in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> as well as go over some useful methods.</p>
<section id="extracting-values-from-a-series">
<h2><span class="section-number">1.2.1. </span>Extracting values from a Series<a class="headerlink" href="#extracting-values-from-a-series" title="Permalink to this headline">#</a></h2>
<p>We can select a single value or a set of values from a Series. There are 3 primary methods of selecting data.</p>
<ol class="arabic simple">
<li><p>A single index label</p></li>
<li><p>A list of index labels</p></li>
<li><p>A filtering condition</p></li>
</ol>
<p>To demonstrate this, let’s define the Series ser</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
<span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">])</span>
<span class="n">ser</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a    4
b   -2
c    0
d    6
dtype: int64
</pre></div>
</div>
</div>
</div>
<section id="a-single-index-label">
<h3><span class="section-number">1.2.1.1. </span>A Single Index Label<a class="headerlink" href="#a-single-index-label" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ser</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-list-of-index-labels">
<h3><span class="section-number">1.2.1.2. </span>A List of Index Labels<a class="headerlink" href="#a-list-of-index-labels" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ser</span><span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a    4
c    0
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-filtering-condition">
<h3><span class="section-number">1.2.1.3. </span>A Filtering Condition<a class="headerlink" href="#a-filtering-condition" title="Permalink to this headline">#</a></h3>
<p>Perhaps the most interesting (and useful) method of selecting data from a Series is with a filtering condition.</p>
<p>First, we apply a boolean condition to the Series. This create <strong>a new Series of boolean values</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ser</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a     True
b    False
c    False
d     True
dtype: bool
</pre></div>
</div>
</div>
</div>
<a class="reference internal image-reference" href="https://fahadsultan.com/datascience_ml/_images/filter.png"><img alt="https://fahadsultan.com/datascience_ml/_images/filter.png" class="align-center" src="https://fahadsultan.com/datascience_ml/_images/filter.png" style="width: 50%;" /></a>
<p>We then use this boolean condition to index into our original Series. pandas will select only the entries in the original Series that satisfy the condition.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ser</span><span class="p">[</span><span class="n">ser</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a    4
d    6
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="extracing-data-from-dataframes">
<h2><span class="section-number">1.2.2. </span>Extracing data from DataFrames<a class="headerlink" href="#extracing-data-from-dataframes" title="Permalink to this headline">#</a></h2>
<p>Now that we’ve learned how to create DataFrames, let’s dive more deeply into their capabilities.</p>
<p>The API (application programming interface) for the DataFrame class is enormous. In this section, we’ll discuss several methods of the DataFrame API that allow us to extract subsets of data.</p>
<p>The simplest way to manipulate a DataFrame is to extract a subset of rows and columns, known as <strong>slicing</strong>. We will do so with four primary methods of the DataFrame class:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.head</span></code> and <code class="docutils literal notranslate"><span class="pre">.tail</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.iloc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.loc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[]</span></code></p></li>
</ul>
<section id="filtering-rows-with-head-and-tail">
<h3><span class="section-number">1.2.2.1. </span>Filtering rows with <code class="docutils literal notranslate"><span class="pre">.head</span></code> and <code class="docutils literal notranslate"><span class="pre">.tail</span></code><a class="headerlink" href="#filtering-rows-with-head-and-tail" title="Permalink to this headline">#</a></h3>
<p>The simplest scenario in which we want to extract data is when we simply want to select the first or last few rows of the DataFrame.</p>
<p>To extract the first n rows of a DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code>, we use the syntax <code class="docutils literal notranslate"><span class="pre">df.head(n)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/fahadsultan/datascience_ml/main/data/elections.csv&quot;</span>
<span class="n">elections</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="c1"># Extract the first 5 rows of the DataFrame</span>
<span class="n">elections</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Similarly, calling <code class="docutils literal notranslate"><span class="pre">df.tail(n)</span></code> allows us to extract the last n rows of the DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract the last 5 rows of the DataFrame</span>
<span class="n">elections</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>177</th>
      <td>2016</td>
      <td>Jill Stein</td>
      <td>Green</td>
      <td>1457226</td>
      <td>loss</td>
      <td>1.073699</td>
    </tr>
    <tr>
      <th>178</th>
      <td>2020</td>
      <td>Joseph Biden</td>
      <td>Democratic</td>
      <td>81268924</td>
      <td>win</td>
      <td>51.311515</td>
    </tr>
    <tr>
      <th>179</th>
      <td>2020</td>
      <td>Donald Trump</td>
      <td>Republican</td>
      <td>74216154</td>
      <td>loss</td>
      <td>46.858542</td>
    </tr>
    <tr>
      <th>180</th>
      <td>2020</td>
      <td>Jo Jorgensen</td>
      <td>Libertarian</td>
      <td>1865724</td>
      <td>loss</td>
      <td>1.177979</td>
    </tr>
    <tr>
      <th>181</th>
      <td>2020</td>
      <td>Howard Hawkins</td>
      <td>Green</td>
      <td>405035</td>
      <td>loss</td>
      <td>0.255731</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="filtering-rows-with-iloc">
<h3><span class="section-number">1.2.2.2. </span>Filtering rows with <code class="docutils literal notranslate"><span class="pre">.iloc</span></code><a class="headerlink" href="#filtering-rows-with-iloc" title="Permalink to this headline">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you find yourself needing to use <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> then stop and think if you are about to implement a loop. If so, there is probably a better way to do it.</p>
</div>
<p>Slicing with <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> works similarily to <code class="docutils literal notranslate"><span class="pre">.loc</span></code>, however, <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> uses the index positions of rows and columns rather the labels (think to yourself: <strong><code class="docutils literal notranslate"><span class="pre">l</span></code></strong><code class="docutils literal notranslate"><span class="pre">oc</span></code> uses <strong>l</strong>abels; <strong><code class="docutils literal notranslate"><span class="pre">i</span></code></strong><code class="docutils literal notranslate"><span class="pre">loc</span></code> uses <strong>i</strong>ndices). The arguments to the <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> function also behave similarly -– single values, lists, indices, and any combination of these are permitted.</p>
<p>Let’s begin reproducing our results from above. We’ll begin by selecting for the first presidential candidate in our <code class="docutils literal notranslate"><span class="pre">elections</span></code> DataFrame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># elections.loc[0, &quot;Candidate&quot;] - Previous approach</span>
<span class="n">elections</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Andrew Jackson&#39;
</pre></div>
</div>
</div>
</div>
<p>Notice how the first argument to both <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> are the same. This is because the row with a label of 0 is conveniently in the 0th index (equivalently, the first position) of the <code class="docutils literal notranslate"><span class="pre">elections</span></code> DataFrame. Generally, this is true of any DataFrame where the row labels are incremented in ascending order from 0.</p>
<p>However, when we select the first four rows and columns using <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>, we notice something.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># elections.loc[0:3, &#39;Year&#39;:&#39;Popular vote&#39;] - Previous approach</span>
<span class="n">elections</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Slicing is no longer inclusive in <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> -– it’s exclusive. In other words, the right-end of a slice is not included when using <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>. This is one of the subtleties of <code class="docutils literal notranslate"><span class="pre">pandas</span></code> syntax; you will get used to it with practice.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#elections.loc[[0, 1, 2, 3], [&#39;Year&#39;, &#39;Candidate&#39;, &#39;Party&#39;, &#39;Popular vote&#39;]] - Previous Approach</span>
<span class="n">elections</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>This discussion begs the question: when should we use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> vs <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>? In most cases, <code class="docutils literal notranslate"><span class="pre">.loc</span></code> is generally safer to use. You can imagine <code class="docutils literal notranslate"><span class="pre">.iloc</span></code> may return incorrect values when applied to a dataset where the ordering of data can change.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/iloc.png"><img alt="../_images/iloc.png" src="../_images/iloc.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.12 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">.iloc[i,</span> <span class="pre">j]</span></code> returns value(s) where row <strong>location</strong>(s)<code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">i</span></code> and column <strong>location</strong>(s)<code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">j</span></code> in the DataFrame.</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="extracting-with-loc">
<h3><span class="section-number">1.2.2.3. </span>Extracting with <code class="docutils literal notranslate"><span class="pre">.loc</span></code><a class="headerlink" href="#extracting-with-loc" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.loc</span></code> operator selects rows and columns in a DataFrame by their row and column label(s), respectively. The <strong>row labels</strong> (commonly referred to as the <strong>indices</strong>) are the bold text on the far <em>left</em> of a DataFrame, while the <strong>column labels</strong> are the column names found at the <em>top</em> of a DataFrame.</p>
<p>To grab data with <code class="docutils literal notranslate"><span class="pre">.loc</span></code>, we must specify the row and column label(s) where the data exists. The row labels are the first argument to the .loc function; the column labels are the second. For example, we can select the the row labeled <code class="docutils literal notranslate"><span class="pre">0</span></code> and the column labeled <code class="docutils literal notranslate"><span class="pre">Candidate</span></code> from the <code class="docutils literal notranslate"><span class="pre">elections</span></code> DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Candidate&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Andrew Jackson&#39;
</pre></div>
</div>
</div>
</div>
<p>To select <em>multiple</em> rows and columns, we can use Python slice notation. Here, we select the rows from labels <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">3</span></code> and the columns from labels <code class="docutils literal notranslate"><span class="pre">&quot;Year&quot;</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;Popular</span> <span class="pre">vote&quot;</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">:</span><span class="s1">&#39;Popular vote&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Suppose that instead, we wanted <em>every</em> column value for the first four rows in the <code class="docutils literal notranslate"><span class="pre">elections</span></code> DataFrame. The shorthand <code class="docutils literal notranslate"><span class="pre">:</span></code> is useful for this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>There are a couple of things we should note. Firstly, unlike conventional Python, Pandas allows us to slice string values (in our example, the column labels). Secondly, slicing with <code class="docutils literal notranslate"><span class="pre">.loc</span></code> is <em>inclusive</em>. Notice how our resulting DataFrame includes every row and column between and including the slice labels we specified.</p>
<p>Equivalently, we can use a list to obtain multiple rows and columns in our <code class="docutils literal notranslate"><span class="pre">elections</span></code> DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Candidate&#39;</span><span class="p">,</span> <span class="s1">&#39;Party&#39;</span><span class="p">,</span> <span class="s1">&#39;Popular vote&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Lastly, we can interchange list and slicing notation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/loc.png"><img alt="../_images/loc.png" src="../_images/loc.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.13 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">.loc[i,</span> <span class="pre">j]</span></code> returns value(s) where row <strong>label</strong>(s)<code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">i</span></code> and column <strong>label</strong>(s)<code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">j</span></code> in the DataFrame.</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="extracting-with">
<h3><span class="section-number">1.2.2.4. </span>Extracting with <code class="docutils literal notranslate"><span class="pre">[]</span></code><a class="headerlink" href="#extracting-with" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">[]</span></code> selection operator is the most baffling of all, yet the most commonly used. It only takes a single argument, which may be one of the following:</p>
<ol class="arabic simple">
<li><p>A slice of row numbers</p></li>
<li><p>A list of column labels</p></li>
<li><p>A single column label</p></li>
</ol>
<p>That is, <code class="docutils literal notranslate"><span class="pre">[]</span></code> is <em>context dependent</em>. Let’s see some examples.</p>
<section id="a-slice-of-row-numbers">
<h4><span class="section-number">1.2.2.4.1. </span>A slice of row numbers<a class="headerlink" href="#a-slice-of-row-numbers" title="Permalink to this headline">#</a></h4>
<p>Say we wanted the first four rows of our <code class="docutils literal notranslate"><span class="pre">elections</span></code> DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="a-list-of-column-labels">
<h4><span class="section-number">1.2.2.4.2. </span>A list of column labels<a class="headerlink" href="#a-list-of-column-labels" title="Permalink to this headline">#</a></h4>
<p>Suppose we now want the first four columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[[</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="s2">&quot;Candidate&quot;</span><span class="p">,</span> <span class="s2">&quot;Party&quot;</span><span class="p">,</span> <span class="s2">&quot;Popular vote&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>177</th>
      <td>2016</td>
      <td>Jill Stein</td>
      <td>Green</td>
      <td>1457226</td>
    </tr>
    <tr>
      <th>178</th>
      <td>2020</td>
      <td>Joseph Biden</td>
      <td>Democratic</td>
      <td>81268924</td>
    </tr>
    <tr>
      <th>179</th>
      <td>2020</td>
      <td>Donald Trump</td>
      <td>Republican</td>
      <td>74216154</td>
    </tr>
    <tr>
      <th>180</th>
      <td>2020</td>
      <td>Jo Jorgensen</td>
      <td>Libertarian</td>
      <td>1865724</td>
    </tr>
    <tr>
      <th>181</th>
      <td>2020</td>
      <td>Howard Hawkins</td>
      <td>Green</td>
      <td>405035</td>
    </tr>
  </tbody>
</table>
<p>182 rows × 4 columns</p>
</div></div></div>
</div>
</section>
<section id="a-single-column-label">
<h4><span class="section-number">1.2.2.4.3. </span>A single column label<a class="headerlink" href="#a-single-column-label" title="Permalink to this headline">#</a></h4>
<p>Lastly, <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> allows us to extract only the <code class="docutils literal notranslate"><span class="pre">Candidate</span></code> column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0         Andrew Jackson
1      John Quincy Adams
2         Andrew Jackson
3      John Quincy Adams
4         Andrew Jackson
             ...        
177           Jill Stein
178         Joseph Biden
179         Donald Trump
180         Jo Jorgensen
181       Howard Hawkins
Name: Candidate, Length: 182, dtype: object
</pre></div>
</div>
</div>
</div>
<p>The output is a Series! In this course, we’ll become very comfortable with <code class="docutils literal notranslate"><span class="pre">[]</span></code>, especially for selecting columns. In practice, <code class="docutils literal notranslate"><span class="pre">[]</span></code> is much more common than <code class="docutils literal notranslate"><span class="pre">.loc</span></code>.</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../_images/squarebrackets.png"><img alt="../_images/squarebrackets.png" src="../_images/squarebrackets.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.14 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">.iloc[i,</span> <span class="pre">j]</span></code> returns value(s) where row(s)<code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">i</span></code> and column(s)<code class="docutils literal notranslate"><span class="pre">==</span> <span class="pre">j</span></code> in the DataFrame.</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="conditional-extraction">
<h2><span class="section-number">1.2.3. </span>Conditional Extraction<a class="headerlink" href="#conditional-extraction" title="Permalink to this headline">#</a></h2>
<p>Conditional selection allows us to select a subset of rows in a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> if they follow some specified condition.</p>
<p>To understand how to use conditional selection, we must look at another possible input of the <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and <code class="docutils literal notranslate"><span class="pre">[]</span></code> methods – a boolean array, which is simply an array or <code class="docutils literal notranslate"><span class="pre">Series</span></code> where each element is either <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>. This boolean array must have a length equal to the number of rows in the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. It will return all rows that correspond to a value of <code class="docutils literal notranslate"><span class="pre">True</span></code> in the array. We used a very similar technique when performing conditional extraction from a <code class="docutils literal notranslate"><span class="pre">Series</span></code> in the last lecture.</p>
<p>To see this in action, let’s select all even-indexed rows in the first 10 rows of our <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ask yourself: why is :9 is the correct slice to select the first 10 rows?</span>
<span class="n">elections_first_10_rows</span> <span class="o">=</span> <span class="n">elections</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="mi">9</span><span class="p">,</span> <span class="p">:]</span>

<span class="c1"># Notice how we have exactly 10 elements in our boolean array argument</span>
<span class="n">elections_first_10_rows</span><span class="p">[[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1832</td>
      <td>William Wirt</td>
      <td>Anti-Masonic</td>
      <td>100715</td>
      <td>loss</td>
      <td>7.821583</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1836</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>763291</td>
      <td>win</td>
      <td>52.272472</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections_first_10_rows</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1832</td>
      <td>William Wirt</td>
      <td>Anti-Masonic</td>
      <td>100715</td>
      <td>loss</td>
      <td>7.821583</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1836</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>763291</td>
      <td>win</td>
      <td>52.272472</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>These techniques worked well in this example, but you can imagine how tedious it might be to list out <code class="docutils literal notranslate"><span class="pre">True</span></code>s and <code class="docutils literal notranslate"><span class="pre">False</span></code>s for every row in a larger <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. To make things easier, we can instead provide a logical condition as an input to <code class="docutils literal notranslate"><span class="pre">.loc</span></code> or <code class="docutils literal notranslate"><span class="pre">[]</span></code> that returns a boolean array with the necessary length.</p>
<p>For example, to return all names associated with <code class="docutils literal notranslate"><span class="pre">F</span></code> sex:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, use a logical condition to generate a boolean array</span>
<span class="n">logical_operator</span> <span class="o">=</span> <span class="p">(</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;win&quot;</span><span class="p">)</span>

<span class="c1"># Then, use this boolean array to filter the DataFrame</span>
<span class="n">elections</span><span class="p">[</span><span class="n">logical_operator</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1836</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>763291</td>
      <td>win</td>
      <td>52.272472</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1840</td>
      <td>William Henry Harrison</td>
      <td>Whig</td>
      <td>1275583</td>
      <td>win</td>
      <td>53.051213</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Recall from the previous lecture that <code class="docutils literal notranslate"><span class="pre">.head()</span></code> will return only the first few rows in the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. In reality, <code class="docutils literal notranslate"><span class="pre">elections[logical</span> <span class="pre">operator]</span></code> contains as many rows as there are entries in the original <code class="docutils literal notranslate"><span class="pre">elections</span></code> <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">Result</span> <span class="pre">==</span> <span class="pre">&quot;win&quot;</span></code>.</p>
<p>Here, <code class="docutils literal notranslate"><span class="pre">logical_operator</span></code> evaluates to a <code class="docutils literal notranslate"><span class="pre">Series</span></code> of boolean values with length 400762</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">logical_operator</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>182
</pre></div>
</div>
</div>
</div>
<p>Rows starting at row 0 and ending at row 235790 evaluate to <code class="docutils literal notranslate"><span class="pre">True</span></code> and are thus returned in the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. Rows from 235791 onwards evaluate to <code class="docutils literal notranslate"><span class="pre">False</span></code> and are omitted from the output.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The 0th item in this &#39;logical_operator&#39; is: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logical_operator</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The 100-th item in this &#39;logical_operator&#39; is: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logical_operator</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">100</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The 181-th item in this &#39;logical_operator&#39; is: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logical_operator</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The 0th item in this &#39;logical_operator&#39; is: False
The 100-th item in this &#39;logical_operator&#39; is: True
The 181-th item in this &#39;logical_operator&#39; is: False
</pre></div>
</div>
</div>
</div>
<p>Passing a <code class="docutils literal notranslate"><span class="pre">Series</span></code> as an argument to <code class="docutils literal notranslate"><span class="pre">elections[]</span></code> has the same affect as using a boolean array. In fact, the <code class="docutils literal notranslate"><span class="pre">[]</span></code> selection operator can take a boolean <code class="docutils literal notranslate"><span class="pre">Series</span></code>, array, and list as arguments. These three are used interchangeably thoughout the course.</p>
<p>We can also use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> to achieve similar results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;win&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1836</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>763291</td>
      <td>win</td>
      <td>52.272472</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1840</td>
      <td>William Henry Harrison</td>
      <td>Whig</td>
      <td>1275583</td>
      <td>win</td>
      <td>53.051213</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Boolean conditions can be combined using various bitwise operators that allow us to filter results by multiple conditions.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Usage</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">~</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">~p</span></code></p></td>
<td><p>Returns negation of p</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">|</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">|</span> <span class="pre">q</span></code></p></td>
<td><p>p OR q</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">&amp;</span> <span class="pre">q</span></code></p></td>
<td><p>p AND q</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">^</span> <span class="pre">q</span></code></p></td>
<td><p>p XOR q (exclusive or)</p></td>
</tr>
</tbody>
</table>
<p>When combining multiple conditions with logical operators, we surround each individual condition with a set of parenthesis <code class="docutils literal notranslate"><span class="pre">()</span></code>. This imposes an order of operations on <code class="docutils literal notranslate"><span class="pre">pandas</span></code> evaluating your logic, and can avoid code erroring.</p>
<p>For example, if we want to return data on all names with sex <code class="docutils literal notranslate"><span class="pre">&quot;F&quot;</span></code> born before the 21st century, we can write:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[(</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;win&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">)]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>157</th>
      <td>2004</td>
      <td>George W. Bush</td>
      <td>Republican</td>
      <td>62040610</td>
      <td>win</td>
      <td>50.771824</td>
    </tr>
    <tr>
      <th>162</th>
      <td>2008</td>
      <td>Barack Obama</td>
      <td>Democratic</td>
      <td>69498516</td>
      <td>win</td>
      <td>53.023510</td>
    </tr>
    <tr>
      <th>168</th>
      <td>2012</td>
      <td>Barack Obama</td>
      <td>Democratic</td>
      <td>65915795</td>
      <td>win</td>
      <td>51.258484</td>
    </tr>
    <tr>
      <th>173</th>
      <td>2016</td>
      <td>Donald Trump</td>
      <td>Republican</td>
      <td>62984828</td>
      <td>win</td>
      <td>46.407862</td>
    </tr>
    <tr>
      <th>178</th>
      <td>2020</td>
      <td>Joseph Biden</td>
      <td>Democratic</td>
      <td>81268924</td>
      <td>win</td>
      <td>51.311515</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Boolean array selection is a useful tool, but can lead to overly verbose code for complex conditions. In the example below, our boolean condition is long enough to extend for several lines of code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>177</th>
      <td>2016</td>
      <td>Jill Stein</td>
      <td>Green</td>
      <td>1457226</td>
      <td>loss</td>
      <td>1.073699</td>
    </tr>
    <tr>
      <th>178</th>
      <td>2020</td>
      <td>Joseph Biden</td>
      <td>Democratic</td>
      <td>81268924</td>
      <td>win</td>
      <td>51.311515</td>
    </tr>
    <tr>
      <th>179</th>
      <td>2020</td>
      <td>Donald Trump</td>
      <td>Republican</td>
      <td>74216154</td>
      <td>loss</td>
      <td>46.858542</td>
    </tr>
    <tr>
      <th>180</th>
      <td>2020</td>
      <td>Jo Jorgensen</td>
      <td>Libertarian</td>
      <td>1865724</td>
      <td>loss</td>
      <td>1.177979</td>
    </tr>
    <tr>
      <th>181</th>
      <td>2020</td>
      <td>Howard Hawkins</td>
      <td>Green</td>
      <td>405035</td>
      <td>loss</td>
      <td>0.255731</td>
    </tr>
  </tbody>
</table>
<p>182 rows × 6 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note: The parentheses surrounding the code make it possible to break the code on to multiple lines for readability</span>
<span class="p">(</span>
    <span class="n">elections</span><span class="p">[(</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Party&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Green&quot;</span><span class="p">)</span> <span class="o">|</span> 
              <span class="p">(</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Party&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Libertarian&quot;</span><span class="p">)]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>125</th>
      <td>1976</td>
      <td>Roger MacBride</td>
      <td>Libertarian</td>
      <td>172557</td>
      <td>loss</td>
      <td>0.212451</td>
    </tr>
    <tr>
      <th>128</th>
      <td>1980</td>
      <td>Ed Clark</td>
      <td>Libertarian</td>
      <td>921128</td>
      <td>loss</td>
      <td>1.067883</td>
    </tr>
    <tr>
      <th>132</th>
      <td>1984</td>
      <td>David Bergland</td>
      <td>Libertarian</td>
      <td>228111</td>
      <td>loss</td>
      <td>0.247245</td>
    </tr>
    <tr>
      <th>138</th>
      <td>1988</td>
      <td>Ron Paul</td>
      <td>Libertarian</td>
      <td>431750</td>
      <td>loss</td>
      <td>0.472660</td>
    </tr>
    <tr>
      <th>139</th>
      <td>1992</td>
      <td>Andre Marrou</td>
      <td>Libertarian</td>
      <td>290087</td>
      <td>loss</td>
      <td>0.278516</td>
    </tr>
    <tr>
      <th>146</th>
      <td>1996</td>
      <td>Harry Browne</td>
      <td>Libertarian</td>
      <td>485759</td>
      <td>loss</td>
      <td>0.505198</td>
    </tr>
    <tr>
      <th>149</th>
      <td>1996</td>
      <td>Ralph Nader</td>
      <td>Green</td>
      <td>685297</td>
      <td>loss</td>
      <td>0.712721</td>
    </tr>
    <tr>
      <th>153</th>
      <td>2000</td>
      <td>Harry Browne</td>
      <td>Libertarian</td>
      <td>384431</td>
      <td>loss</td>
      <td>0.365525</td>
    </tr>
    <tr>
      <th>155</th>
      <td>2000</td>
      <td>Ralph Nader</td>
      <td>Green</td>
      <td>2882955</td>
      <td>loss</td>
      <td>2.741176</td>
    </tr>
    <tr>
      <th>156</th>
      <td>2004</td>
      <td>David Cobb</td>
      <td>Green</td>
      <td>119859</td>
      <td>loss</td>
      <td>0.098088</td>
    </tr>
    <tr>
      <th>159</th>
      <td>2004</td>
      <td>Michael Badnarik</td>
      <td>Libertarian</td>
      <td>397265</td>
      <td>loss</td>
      <td>0.325108</td>
    </tr>
    <tr>
      <th>163</th>
      <td>2008</td>
      <td>Bob Barr</td>
      <td>Libertarian</td>
      <td>523715</td>
      <td>loss</td>
      <td>0.399565</td>
    </tr>
    <tr>
      <th>165</th>
      <td>2008</td>
      <td>Cynthia McKinney</td>
      <td>Green</td>
      <td>161797</td>
      <td>loss</td>
      <td>0.123442</td>
    </tr>
    <tr>
      <th>169</th>
      <td>2012</td>
      <td>Gary Johnson</td>
      <td>Libertarian</td>
      <td>1275971</td>
      <td>loss</td>
      <td>0.992241</td>
    </tr>
    <tr>
      <th>170</th>
      <td>2012</td>
      <td>Jill Stein</td>
      <td>Green</td>
      <td>469627</td>
      <td>loss</td>
      <td>0.365199</td>
    </tr>
    <tr>
      <th>175</th>
      <td>2016</td>
      <td>Gary Johnson</td>
      <td>Libertarian</td>
      <td>4489235</td>
      <td>loss</td>
      <td>3.307714</td>
    </tr>
    <tr>
      <th>177</th>
      <td>2016</td>
      <td>Jill Stein</td>
      <td>Green</td>
      <td>1457226</td>
      <td>loss</td>
      <td>1.073699</td>
    </tr>
    <tr>
      <th>180</th>
      <td>2020</td>
      <td>Jo Jorgensen</td>
      <td>Libertarian</td>
      <td>1865724</td>
      <td>loss</td>
      <td>1.177979</td>
    </tr>
    <tr>
      <th>181</th>
      <td>2020</td>
      <td>Howard Hawkins</td>
      <td>Green</td>
      <td>405035</td>
      <td>loss</td>
      <td>0.255731</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Fortunately, <code class="docutils literal notranslate"><span class="pre">pandas</span></code> provides many alternative methods for constructing boolean filters.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.isin</span></code> function is one such example. This method evaluates if the values in a <code class="docutils literal notranslate"><span class="pre">Series</span></code> are contained in a different sequence (list, array, or <code class="docutils literal notranslate"><span class="pre">Series</span></code>) of values. In the cell below, we achieve equivalent result to the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> above with far more concise code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Democratic&quot;</span><span class="p">,</span> <span class="s2">&quot;Republican&quot;</span><span class="p">]</span>
<span class="n">elections</span><span class="p">[</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Party&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">names</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1836</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>763291</td>
      <td>win</td>
      <td>52.272472</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1840</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>1128854</td>
      <td>loss</td>
      <td>46.948787</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1844</td>
      <td>James Polk</td>
      <td>Democratic</td>
      <td>1339570</td>
      <td>win</td>
      <td>50.749477</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>171</th>
      <td>2012</td>
      <td>Mitt Romney</td>
      <td>Republican</td>
      <td>60933504</td>
      <td>loss</td>
      <td>47.384076</td>
    </tr>
    <tr>
      <th>173</th>
      <td>2016</td>
      <td>Donald Trump</td>
      <td>Republican</td>
      <td>62984828</td>
      <td>win</td>
      <td>46.407862</td>
    </tr>
    <tr>
      <th>176</th>
      <td>2016</td>
      <td>Hillary Clinton</td>
      <td>Democratic</td>
      <td>65853514</td>
      <td>loss</td>
      <td>48.521539</td>
    </tr>
    <tr>
      <th>178</th>
      <td>2020</td>
      <td>Joseph Biden</td>
      <td>Democratic</td>
      <td>81268924</td>
      <td>win</td>
      <td>51.311515</td>
    </tr>
    <tr>
      <th>179</th>
      <td>2020</td>
      <td>Donald Trump</td>
      <td>Republican</td>
      <td>74216154</td>
      <td>loss</td>
      <td>46.858542</td>
    </tr>
  </tbody>
</table>
<p>88 rows × 6 columns</p>
</div></div></div>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">str.startswith</span></code> can be used to define a filter based on string values in a <code class="docutils literal notranslate"><span class="pre">Series</span></code> object. It checks to see if string values in a <code class="docutils literal notranslate"><span class="pre">Series</span></code> start with a particular character.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find the names that begin with the letter &quot;N&quot;</span>
<span class="n">elections</span><span class="p">[</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8</th>
      <td>1836</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>763291</td>
      <td>win</td>
      <td>52.272472</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1840</td>
      <td>Martin Van Buren</td>
      <td>Democratic</td>
      <td>1128854</td>
      <td>loss</td>
      <td>46.948787</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1848</td>
      <td>Martin Van Buren</td>
      <td>Free Soil</td>
      <td>291501</td>
      <td>loss</td>
      <td>10.138474</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1856</td>
      <td>Millard Fillmore</td>
      <td>American</td>
      <td>873053</td>
      <td>loss</td>
      <td>21.554001</td>
    </tr>
    <tr>
      <th>137</th>
      <td>1988</td>
      <td>Michael Dukakis</td>
      <td>Democratic</td>
      <td>41809074</td>
      <td>loss</td>
      <td>45.770691</td>
    </tr>
    <tr>
      <th>159</th>
      <td>2004</td>
      <td>Michael Badnarik</td>
      <td>Libertarian</td>
      <td>397265</td>
      <td>loss</td>
      <td>0.325108</td>
    </tr>
    <tr>
      <th>160</th>
      <td>2004</td>
      <td>Michael Peroutka</td>
      <td>Constitution</td>
      <td>143630</td>
      <td>loss</td>
      <td>0.117542</td>
    </tr>
    <tr>
      <th>171</th>
      <td>2012</td>
      <td>Mitt Romney</td>
      <td>Republican</td>
      <td>60933504</td>
      <td>loss</td>
      <td>47.384076</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="adding-removing-and-modifying-columns">
<h2><span class="section-number">1.2.4. </span>Adding, Removing, and Modifying Columns<a class="headerlink" href="#adding-removing-and-modifying-columns" title="Permalink to this headline">#</a></h2>
<p>In many data science tasks, we may need to change the columns contained in our <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> in some way. Fortunately, the syntax to do so is fairly straightforward.</p>
<p>To add a new column to a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, we use a syntax similar to that used when accessing an existing column. Specify the name of the new column by writing <code class="docutils literal notranslate"><span class="pre">df[&quot;column&quot;]</span></code>, then assign this to a <code class="docutils literal notranslate"><span class="pre">Series</span></code> or array containing the values that will populate this column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a Series of the length of each name. We&#39;ll discuss `str` methods next week.</span>
<span class="n">candidate_name_lengths</span> <span class="o">=</span> <span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>

<span class="c1"># Add a column named &quot;name_lengths&quot; that includes the length of each name</span>
<span class="n">elections</span><span class="p">[</span><span class="s2">&quot;name_lengths&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">candidate_name_lengths</span>
<span class="n">elections</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
      <th>name_lengths</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
      <td>17</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
      <td>14</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
      <td>17</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If we need to later modify an existing column, we can do so by referencing this column again with the syntax <code class="docutils literal notranslate"><span class="pre">df[&quot;column&quot;]</span></code>, then re-assigning it to a new <code class="docutils literal notranslate"><span class="pre">Series</span></code> or array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Modify the “name_lengths” column to be one less than its original value</span>
<span class="n">elections</span><span class="p">[</span><span class="s2">&quot;name_lengths&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">elections</span><span class="p">[</span><span class="s2">&quot;name_lengths&quot;</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span>
<span class="n">elections</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
      <th>name_lengths</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
      <td>13</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
      <td>16</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
      <td>13</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
      <td>16</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
      <td>13</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can rename a column using the <code class="docutils literal notranslate"><span class="pre">.rename()</span></code> method. <code class="docutils literal notranslate"><span class="pre">.rename()</span></code> takes in a dictionary that maps old column names to their new ones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Rename “name_lengths” to “Length”</span>
<span class="n">elections</span> <span class="o">=</span> <span class="n">elections</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name_lengths&quot;</span><span class="p">:</span><span class="s2">&quot;Length&quot;</span><span class="p">})</span>
<span class="n">elections</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
      <th>Length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
      <td>13</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
      <td>16</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
      <td>13</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
      <td>16</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
      <td>13</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If we want to remove a column or row of a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, we can call the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop.html"><code class="docutils literal notranslate"><span class="pre">.drop</span></code></a> method. Use the <code class="docutils literal notranslate"><span class="pre">axis</span></code> parameter to specify whether a column or row should be dropped. Unless otherwise specified, <code class="docutils literal notranslate"><span class="pre">pandas</span></code> will assume that we are dropping a row by default.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Drop our new &quot;Length&quot; column from the DataFrame</span>
<span class="n">elections</span> <span class="o">=</span> <span class="n">elections</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;Length&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>
<span class="n">elections</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Notice that we reassigned <code class="docutils literal notranslate"><span class="pre">elections</span></code> to the result of <code class="docutils literal notranslate"><span class="pre">elections.drop(...)</span></code>. This is a subtle, but important point: <code class="docutils literal notranslate"><span class="pre">pandas</span></code> table operations <strong>do not occur in-place</strong>. Calling <code class="docutils literal notranslate"><span class="pre">df.drop(...)</span></code> will output a <em>copy</em> of <code class="docutils literal notranslate"><span class="pre">df</span></code> with the row/column of interest removed, without modifying the original <code class="docutils literal notranslate"><span class="pre">df</span></code> table.</p>
<p>In other words, if we simply call:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This creates a copy of `elections` and removes the column &quot;Name&quot;...</span>
<span class="n">elections</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;Candidate&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>

<span class="c1"># ...but the original `elections` is unchanged! </span>
<span class="c1"># Notice that the &quot;Name&quot; column is still present</span>
<span class="n">elections</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1824</td>
      <td>Andrew Jackson</td>
      <td>Democratic-Republican</td>
      <td>151271</td>
      <td>loss</td>
      <td>57.210122</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1824</td>
      <td>John Quincy Adams</td>
      <td>Democratic-Republican</td>
      <td>113142</td>
      <td>win</td>
      <td>42.789878</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1828</td>
      <td>John Quincy Adams</td>
      <td>National Republican</td>
      <td>500897</td>
      <td>loss</td>
      <td>43.796073</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1832</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>702735</td>
      <td>win</td>
      <td>54.574789</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="handy-utility-functions">
<h2><span class="section-number">1.2.5. </span>Handy Utility Functions<a class="headerlink" href="#handy-utility-functions" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> contains an extensive library of functions that can help shorten the process of setting and getting information from its data structures. In the following section, we will give overviews of each of the main utility functions that will help us in in this course.</p>
<p>Discussing all functionality offered by <code class="docutils literal notranslate"><span class="pre">pandas</span></code> could take an entire semester! We will walk you through the most commonly-used functions, and encourage you to explore and experiment on your own.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.shape</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.size</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.dtypes</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.astype()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.describe()</span> </code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.sample()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.unique()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.apply()</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">pandas</span></code> <a class="reference external" href="https://pandas.pydata.org/docs/reference/index.html">documentation</a> will be a valuable resource.</p>
<section id="shape-and-size">
<h3><span class="section-number">1.2.5.1. </span><code class="docutils literal notranslate"><span class="pre">.shape</span></code> and <code class="docutils literal notranslate"><span class="pre">.size</span></code><a class="headerlink" href="#shape-and-size" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">.shape</span></code> and <code class="docutils literal notranslate"><span class="pre">.size</span></code> are attributes of <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>s that measure the “amount” of data stored in the structure. Calling <code class="docutils literal notranslate"><span class="pre">.shape</span></code> returns a tuple containing the number of rows and columns present in the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> or <code class="docutils literal notranslate"><span class="pre">Series</span></code>. <code class="docutils literal notranslate"><span class="pre">.size</span></code> is used to find the total number of elements in a structure, equivalent to the number of rows times the number of columns.</p>
<p>Many functions strictly require the dimensions of the arguments along certain axes to match. Calling these dimension-finding functions is much faster than counting all of the items by hand.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Return the shape of the DataFrame, in the format (num_rows, num_columns)</span>
<span class="n">elections</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(182, 6)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Return the size of the DataFrame, equal to num_rows * num_columns</span>
<span class="n">elections</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1092
</pre></div>
</div>
</div>
</div>
</section>
<section id="dtypes">
<h3><span class="section-number">1.2.5.2. </span><code class="docutils literal notranslate"><span class="pre">.dtypes</span></code><a class="headerlink" href="#dtypes" title="Permalink to this headline">#</a></h3>
<p>This returns a Series with the data type of each column.
The result’s index is the original DataFrame’s columns. Columns with mixed types are stored with the <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Year              int64
Candidate        object
Party            object
Popular vote      int64
Result           object
%               float64
dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="astype">
<h3><span class="section-number">1.2.5.3. </span><code class="docutils literal notranslate"><span class="pre">.astype()</span></code><a class="headerlink" href="#astype" title="Permalink to this headline">#</a></h3>
<p>Cast a pandas object to a specified dtype</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[</span><span class="s1">&#39;%&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      57
1      42
2      56
3      43
4      54
       ..
177     1
178    51
179    46
180     1
181     0
Name: %, Length: 182, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="describe">
<h3><span class="section-number">1.2.5.4. </span><code class="docutils literal notranslate"><span class="pre">.describe()</span></code><a class="headerlink" href="#describe" title="Permalink to this headline">#</a></h3>
<p>If many statistics are required from a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (minimum value, maximum value, mean value, etc.), then <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html"><code class="docutils literal notranslate"><span class="pre">.describe()</span></code></a> can be used to compute all of them at once.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Popular vote</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>182.000000</td>
      <td>1.820000e+02</td>
      <td>182.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1934.087912</td>
      <td>1.235364e+07</td>
      <td>27.470350</td>
    </tr>
    <tr>
      <th>std</th>
      <td>57.048908</td>
      <td>1.907715e+07</td>
      <td>22.968034</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1824.000000</td>
      <td>1.007150e+05</td>
      <td>0.098088</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1889.000000</td>
      <td>3.876395e+05</td>
      <td>1.219996</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1936.000000</td>
      <td>1.709375e+06</td>
      <td>37.677893</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1988.000000</td>
      <td>1.897775e+07</td>
      <td>48.354977</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2020.000000</td>
      <td>8.126892e+07</td>
      <td>61.344703</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A different set of statistics will be reported if <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> is called on a Series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Party&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count            182
unique            36
top       Democratic
freq              47
Name: Party, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Popular vote&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count         182
mean     12353635
std      19077149
min        100715
25%        387639
50%       1709375
75%      18977751
max      81268924
Name: Popular vote, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="sample">
<h3><span class="section-number">1.2.5.5. </span><code class="docutils literal notranslate"><span class="pre">.sample()</span></code><a class="headerlink" href="#sample" title="Permalink to this headline">#</a></h3>
<p>As we will see later in the semester, random processes are at the heart of many data science techniques (for example, train-test splits, bootstrapping, and cross-validation). <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sample.html"><code class="docutils literal notranslate"><span class="pre">.sample()</span></code></a> lets us quickly select random entries (a row if called from a DataFrame, or a value if called from a Series).</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">.sample()</span></code> selects entries <em>without</em> replacement. Pass in the argument <code class="docutils literal notranslate"><span class="pre">replace=True</span></code> to sample with replacement.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sample a single row</span>
<span class="n">elections</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>135</th>
      <td>1988</td>
      <td>George H. W. Bush</td>
      <td>Republican</td>
      <td>48886597</td>
      <td>win</td>
      <td>53.518845</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sample 5 random rows</span>
<span class="n">elections</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>155</th>
      <td>2000</td>
      <td>Ralph Nader</td>
      <td>Green</td>
      <td>2882955</td>
      <td>loss</td>
      <td>2.741176</td>
    </tr>
    <tr>
      <th>134</th>
      <td>1984</td>
      <td>Walter Mondale</td>
      <td>Democratic</td>
      <td>37577352</td>
      <td>loss</td>
      <td>40.729429</td>
    </tr>
    <tr>
      <th>39</th>
      <td>1884</td>
      <td>Grover Cleveland</td>
      <td>Democratic</td>
      <td>4914482</td>
      <td>win</td>
      <td>48.884933</td>
    </tr>
    <tr>
      <th>84</th>
      <td>1928</td>
      <td>Herbert Hoover</td>
      <td>Republican</td>
      <td>21427123</td>
      <td>win</td>
      <td>58.368524</td>
    </tr>
    <tr>
      <th>177</th>
      <td>2016</td>
      <td>Jill Stein</td>
      <td>Green</td>
      <td>1457226</td>
      <td>loss</td>
      <td>1.073699</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Randomly sample 4 names from the year 2000, with replacement</span>
<span class="n">elections</span><span class="p">[</span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;win&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">replace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>53</th>
      <td>1896</td>
      <td>William McKinley</td>
      <td>Republican</td>
      <td>7112138</td>
      <td>win</td>
      <td>51.213817</td>
    </tr>
    <tr>
      <th>131</th>
      <td>1980</td>
      <td>Ronald Reagan</td>
      <td>Republican</td>
      <td>43903230</td>
      <td>win</td>
      <td>50.897944</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1828</td>
      <td>Andrew Jackson</td>
      <td>Democratic</td>
      <td>642806</td>
      <td>win</td>
      <td>56.203927</td>
    </tr>
    <tr>
      <th>168</th>
      <td>2012</td>
      <td>Barack Obama</td>
      <td>Democratic</td>
      <td>65915795</td>
      <td>win</td>
      <td>51.258484</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="value-counts">
<h3><span class="section-number">1.2.5.6. </span><code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code><a class="headerlink" href="#value-counts" title="Permalink to this headline">#</a></h3>
<p>The <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.value_counts.html"><code class="docutils literal notranslate"><span class="pre">Series.value_counts()</span></code></a> methods counts the number of occurrence of each unique value in a <code class="docutils literal notranslate"><span class="pre">Series</span></code>. In other words, it <em>counts</em> the number of times each unique <em>value</em> appears. This is often useful for determining the most or least common entries in a <code class="docutils literal notranslate"><span class="pre">Series</span></code>.</p>
<p>In the example below, we can determine the name with the most years in which at least one person has taken that name by counting the number of times each name appears in the <code class="docutils literal notranslate"><span class="pre">&quot;Name&quot;</span></code> column of <code class="docutils literal notranslate"><span class="pre">elections</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Party&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Democratic     47
Republican     41
Libertarian    12
Prohibition    11
Socialist      10
Name: Party, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="unique">
<h3><span class="section-number">1.2.5.7. </span><code class="docutils literal notranslate"><span class="pre">.unique()</span></code><a class="headerlink" href="#unique" title="Permalink to this headline">#</a></h3>
<p>If we have a Series with many repeated values, then <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.unique.html"><code class="docutils literal notranslate"><span class="pre">.unique()</span></code></a> can be used to identify only the <em>unique</em> values. Here we return an array of all the names in <code class="docutils literal notranslate"><span class="pre">elections</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;loss&#39;, &#39;win&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
</section>
<section id="sort-values">
<h3><span class="section-number">1.2.5.8. </span><code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code><a class="headerlink" href="#sort-values" title="Permalink to this headline">#</a></h3>
<p>Ordering a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> can be useful for isolating extreme values. For example, the first 5 entries of a row sorted in descending order (that is, from highest to lowest) are the largest 5 values. <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_values.html"><code class="docutils literal notranslate"><span class="pre">.sort_values</span></code></a> allows us to order a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> or <code class="docutils literal notranslate"><span class="pre">Series</span></code> by a specified column. We can choose to either receive the rows in <code class="docutils literal notranslate"><span class="pre">ascending</span></code> order (default) or <code class="docutils literal notranslate"><span class="pre">descending</span></code> order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort the &quot;Count&quot; column from highest to lowest</span>
<span class="n">elections</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="s2">&quot;%&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Popular vote</th>
      <th>Result</th>
      <th>%</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>114</th>
      <td>1964</td>
      <td>Lyndon Johnson</td>
      <td>Democratic</td>
      <td>43127041</td>
      <td>win</td>
      <td>61.344703</td>
    </tr>
    <tr>
      <th>91</th>
      <td>1936</td>
      <td>Franklin Roosevelt</td>
      <td>Democratic</td>
      <td>27752648</td>
      <td>win</td>
      <td>60.978107</td>
    </tr>
    <tr>
      <th>120</th>
      <td>1972</td>
      <td>Richard Nixon</td>
      <td>Republican</td>
      <td>47168710</td>
      <td>win</td>
      <td>60.907806</td>
    </tr>
    <tr>
      <th>79</th>
      <td>1920</td>
      <td>Warren Harding</td>
      <td>Republican</td>
      <td>16144093</td>
      <td>win</td>
      <td>60.574501</td>
    </tr>
    <tr>
      <th>133</th>
      <td>1984</td>
      <td>Ronald Reagan</td>
      <td>Republican</td>
      <td>54455472</td>
      <td>win</td>
      <td>59.023326</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We do not need to explicitly specify the column used for sorting when calling <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code> on a <code class="docutils literal notranslate"><span class="pre">Series</span></code>. We can still specify the ordering paradigm – that is, whether values are sorted in ascending or descending order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort the &quot;Name&quot; Series alphabetically</span>
<span class="n">elections</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>75     Aaron S. Watkins
27      Abraham Lincoln
23      Abraham Lincoln
108     Adlai Stevenson
105     Adlai Stevenson
Name: Candidate, dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="apply">
<h3><span class="section-number">1.2.5.9. </span><code class="docutils literal notranslate"><span class="pre">.apply</span></code><a class="headerlink" href="#apply" title="Permalink to this headline">#</a></h3>
<p>A frequent operation in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is applying a function on to either each column or row of a DataFrame.</p>
<p>DataFrame’s <code class="docutils literal notranslate"><span class="pre">apply</span></code> method does exactly this.</p>
<a class="reference internal image-reference" href="https://fahadsultan.com/datascience_ml/_images/vectorized2.png"><img alt="https://fahadsultan.com/datascience_ml/_images/vectorized2.png" class="align-center" src="https://fahadsultan.com/datascience_ml/_images/vectorized2.png" style="width: 30%;" /></a>
<p>Let’s say we wanted to count the number of unique values that each column takes on. We can use <code class="docutils literal notranslate"><span class="pre">.apply</span></code> to answer that question:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">count_unique</span><span class="p">(</span><span class="n">col</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">col</span><span class="p">))</span>

<span class="n">elections</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">count_unique</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span> <span class="c1"># function is passed an individual column</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Year             50
Candidate       132
Party            36
Popular vote    182
Result            2
%               182
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">axis=&quot;index&quot;</span></code> will <em>apply</em> function on all the COLUMNS in each ROW (default behavior)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">axis=&quot;columns&quot;</span></code> will <em>apply</em> function on all the ROWS in each COLUMN</p></li>
</ul>
</div>
<p>Similarly, let’s say we wanted to count the total number of voters in an election.</p>
<p>We can use <code class="docutils literal notranslate"><span class="pre">.apply</span></code> to answer that question using the following formula:</p>
<p><code class="docutils literal notranslate"><span class="pre">total</span></code><span class="math notranslate nohighlight">\(\times \frac{\%}{100} = \)</span><code class="docutils literal notranslate"><span class="pre">Popular</span> <span class="pre">vote</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compute_total</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Popular vote&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="o">/</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;%&#39;</span><span class="p">])</span>

<span class="n">elections</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">compute_total</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span> <span class="c1"># function is passed an individual row</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0         264413
1         264412
2        1143702
3        1143703
4        1287655
         ...    
177    135720167
178    158383403
179    158383403
180    158383401
181    158383402
Length: 182, dtype: int64
</pre></div>
</div>
</div>
</div>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/fahadsultan/datascience_ml/main/assets/axis0b.png"><img alt="https://raw.githubusercontent.com/fahadsultan/datascience_ml/main/assets/axis0b.png" src="https://raw.githubusercontent.com/fahadsultan/datascience_ml/main/assets/axis0b.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.15 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">df.apply(f,</span> <span class="pre">axis=0)</span></code> results in <span class="math notranslate nohighlight">\(D\)</span> concurrent calls to <span class="math notranslate nohighlight">\(f\)</span>. Each function call is passed a column.</span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/fahadsultan/datascience_ml/main/assets/axis1b.png"><img alt="https://raw.githubusercontent.com/fahadsultan/datascience_ml/main/assets/axis1b.png" src="https://raw.githubusercontent.com/fahadsultan/datascience_ml/main/assets/axis1b.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.16 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">df.apply(f,</span> <span class="pre">axis=1)</span></code> results in <span class="math notranslate nohighlight">\(N\)</span> concurrent calls to <span class="math notranslate nohighlight">\(f\)</span>. Each function call is passed a row.</span><a class="headerlink" href="#id5" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./1_programming"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="pandas1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1.1. </span>Pandas I: Data Structures</p>
      </div>
    </a>
    <a class="right-next"
       href="pandas3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">1.3. </span>Pandas III: Aggregation, Merging and Concatenation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-values-from-a-series">1.2.1. Extracting values from a Series</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-single-index-label">1.2.1.1. A Single Index Label</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-list-of-index-labels">1.2.1.2. A List of Index Labels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-filtering-condition">1.2.1.3. A Filtering Condition</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extracing-data-from-dataframes">1.2.2. Extracing data from DataFrames</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-with-head-and-tail">1.2.2.1. Filtering rows with <code class="docutils literal notranslate"><span class="pre">.head</span></code> and <code class="docutils literal notranslate"><span class="pre">.tail</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-with-iloc">1.2.2.2. Filtering rows with <code class="docutils literal notranslate"><span class="pre">.iloc</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-with-loc">1.2.2.3. Extracting with <code class="docutils literal notranslate"><span class="pre">.loc</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extracting-with">1.2.2.4. Extracting with <code class="docutils literal notranslate"><span class="pre">[]</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-slice-of-row-numbers">1.2.2.4.1. A slice of row numbers</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-list-of-column-labels">1.2.2.4.2. A list of column labels</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-single-column-label">1.2.2.4.3. A single column label</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-extraction">1.2.3. Conditional Extraction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-removing-and-modifying-columns">1.2.4. Adding, Removing, and Modifying Columns</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#handy-utility-functions">1.2.5. Handy Utility Functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shape-and-size">1.2.5.1. <code class="docutils literal notranslate"><span class="pre">.shape</span></code> and <code class="docutils literal notranslate"><span class="pre">.size</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dtypes">1.2.5.2. <code class="docutils literal notranslate"><span class="pre">.dtypes</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#astype">1.2.5.3. <code class="docutils literal notranslate"><span class="pre">.astype()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#describe">1.2.5.4. <code class="docutils literal notranslate"><span class="pre">.describe()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample">1.2.5.5. <code class="docutils literal notranslate"><span class="pre">.sample()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#value-counts">1.2.5.6. <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unique">1.2.5.7. <code class="docutils literal notranslate"><span class="pre">.unique()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sort-values">1.2.5.8. <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apply">1.2.5.9. <code class="docutils literal notranslate"><span class="pre">.apply</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Syed Fahad Sultan
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>